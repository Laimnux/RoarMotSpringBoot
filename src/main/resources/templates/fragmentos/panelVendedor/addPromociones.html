<div th:fragment="content" class="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-2xl border border-gray-200">
    <!-- T铆tulo principal -->
    <h1 class="text-3xl font-bold text-custom-green mb-6 text-center">Env铆o de Promociones por Email</h1>
    <p class="text-sm text-gray-500 text-center mb-8">Configura y env铆a promociones personalizadas a tus clientes</p>

    <!-- Mensajes de xito/Error -->
    <div th:if="${successMessage}" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" role="alert">
        <span class="block sm:inline" th:text="${successMessage}"></span>
    </div>
    <div th:if="${errorMessage}" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
        <span class="block sm:inline" th:text="${errorMessage}"></span>
    </div>

    <!-- Formulario para env铆o de promociones -->
    <form id="promocionForm" th:action="@{/panel/enviar-promociones}" method="post" class="space-y-6">
        <!-- TOKEN CSRF -->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        
        <!-- SECCIN 1: DESTINATARIOS -->
        <div class="p-6 bg-custom-light-green rounded-lg border border-custom-medium-green">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2 border-custom-medium-green">Destinatarios</h2>
            <div>
                <label for="emails" class="block text-sm font-medium text-gray-700 mb-1">Emails de destino</label>
                <textarea id="emails" name="emails" rows="4" 
                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus-ring-custom-green transition duration-200" 
                    placeholder="Ingresa los emails separados por comas o en l铆neas diferentes&#10;Ej: cliente1@gmail.com, cliente2@hotmail.com"
                    required></textarea>
                <p class="text-xs text-gray-500 mt-1">Separa m煤ltiples emails con comas o saltos de l铆nea</p>
            </div>
        </div>

        <!-- SECCIN 2: CONFIGURACIN DE LA PROMOCIN -->
        <div class="p-6 bg-white rounded-lg border border-gray-300">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2 border-gray-300">Configuraci贸n de la Promoci贸n</h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <!-- Descuento -->
                <div>
                    <label for="descuento" class="block text-sm font-medium text-gray-700 mb-1">Descuento (%)</label>
                    <input type="number" id="descuento" name="descuento" min="1" max="100" 
                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus-ring-custom-green transition duration-200" 
                        placeholder="Ej: 30" required>
                </div>
                
                <!-- Producto -->
                <div>
                    <label for="producto" class="block text-sm font-medium text-gray-700 mb-1">Producto en Promoci贸n</label>
                    <input type="text" id="producto" name="producto" 
                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus-ring-custom-green transition duration-200" 
                        placeholder="Ej: Casco Integral Negro" required>
                </div>
                
                <!-- Fecha de Expiraci贸n -->
                <div>
                    <label for="fechaExpiracion" class="block text-sm font-medium text-gray-700 mb-1">Fecha de Expiraci贸n</label>
                    <input type="date" id="fechaExpiracion" name="fechaExpiracion" 
                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus-ring-custom-green transition duration-200" required>
                </div>
                
                <!-- Plantilla (fijo por ahora) -->
                <div>
                    <label for="template" class="block text-sm font-medium text-gray-700 mb-1">Plantilla de Email</label>
                    <select id="template" name="template" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus-ring-custom-green transition duration-200" required>
                        <option value="promocion.html" selected>Promoci贸n B谩sica</option>
                    </select>
                </div>
            </div>
            
            <!-- Asunto del Email -->
            <div class="mt-6">
                <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Asunto del Email</label>
                <input type="text" id="subject" name="subject" 
                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus-ring-custom-green transition duration-200" 
                    placeholder="Ej:  隆Oferta Exclusiva para Ti!" required>
            </div>
        </div>

        <!-- Botones de Acci贸n -->
        <div class="flex justify-end space-x-4 pt-4">
            <button type="button" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition duration-200">Cancelar</button>
            <button type="submit" class="btn-submit px-6 py-3 text-white rounded-lg font-medium shadow-lg shadow-custom-green/50">
                <i class="fas fa-paper-plane mr-2"></i> Enviar Promociones
            </button>
        </div>
    </form>
</div>

<style>
/* Colores personalizados (consistentes con addProduct) */
.text-custom-green { color: #00DB9D; }
.bg-custom-light-green { background-color: #CDFFEA; }
.border-custom-medium-green { border-color: #99E9C3; }
.focus-ring-custom-green:focus { --tw-ring-color: #00DB9D; }
.btn-submit { background-color: #00DB9D; }
.btn-submit:hover { background-color: #00c08b; }
</style>